<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>InfoCollect</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header class="app-navbar" role="banner">
    <div class="nav-inner">
      <a class="brand" href="/" aria-label="Home InfoCollect">InfoCollect</a>
      <nav class="nav-links" aria-label="Navigazione principale">
        <a href="/rss_feeds">Feed RSS</a>
        <a href="/articles">Articoli</a>
        <a href="/web_urls">URL Web</a>
        <a href="/pages">Pagine</a>
        <a href="/settings">Impostazioni</a>
        <a href="/summaries">Riassunti</a>
        <a href="/notifications">Notifiche</a>
        <a href="/connectors">Connettori</a>
        <a href="/logs">Logs</a>
        <a href="/senders">Mittenti</a>
      </nav>
      <button class="btn theme-toggle" id="themeToggle" aria-label="Cambia tema">ðŸŒ“</button>
    </div>
  </header>
  <main class="container" role="main">
    <%= content %>
  </main>
  <footer class="app-footer" role="contentinfo">
    <div class="footer-inner">Â© <%= scalar localtime %> â€” InfoCollect</div>
  </footer>
  <script>
    (function () {
      const key = 'infocollect.theme';
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const apply = (t)=>{ if(!t){root.removeAttribute('data-theme');return;} root.setAttribute('data-theme',t); };
      try { apply(localStorage.getItem(key)); } catch(e){}
      btn && btn.addEventListener('click', function(){
        const cur = root.getAttribute('data-theme');
        const next = cur === 'dark' ? 'light' : (cur === 'light' ? '' : 'dark');
        apply(next);
        try { next ? localStorage.setItem(key,next) : localStorage.removeItem(key); } catch(e){}
      });
    })();
  </script>
</body>
</html>
